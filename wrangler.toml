name = "bt-servant-worker"
main = "src/index.ts"
compatibility_date = "2024-01-01"

[observability]
enabled = true
head_sampling_rate = 1

[vars]
ENVIRONMENT = "development"
MAX_ORCHESTRATION_ITERATIONS = "10"
CODE_EXEC_TIMEOUT_MS = "30000"
DEFAULT_ORG = "unfoldingWord"

# KV Namespaces
[[kv_namespaces]]
binding = "ORG_ADMIN_KEYS"
id = "8b9f2b37a9c04a3392757933fd2d646b"

[[kv_namespaces]]
binding = "MCP_SERVERS"
id = "a101cdbc8fc347e8b88b9dadc328dbe0"

# Durable Objects
[[durable_objects.bindings]]
name = "USER_SESSION"
class_name = "UserSession"

[[migrations]]
tag = "v1"
new_sqlite_classes = ["UserSession"]
